{"ast":null,"code":"var _jsxFileName = \"/home/you/Code/github/kksso/kksso-next/components/StudioCard/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useRouter } from \"next/router\";\nimport Link from \"next/link\"; // import { useHover } from \"react-use\";\n\nimport ProgressiveImage from \"react-progressive-image\";\nimport moment from \"moment\";\nimport { Disc, Hash } from \"react-feather\";\nimport styles from \"./index.module.scss\";\n\nfunction useHover() {\n  const {\n    0: value,\n    1: setValue\n  } = useState(false);\n  const ref = useRef(null);\n\n  const handleMouseOver = () => setValue(true);\n\n  const handleMouseOut = () => setValue(false);\n\n  useEffect(() => {\n    const node = ref.current;\n\n    if (ref && node) {\n      node.addEventListener(\"mouseover\", handleMouseOver);\n      node.addEventListener(\"mouseout\", handleMouseOut);\n      return () => {\n        node.removeEventListener(\"mouseover\", handleMouseOver);\n        node.removeEventListener(\"mouseout\", handleMouseOut);\n      };\n    }\n  }, [ref.current] // Recall only if ref changes\n  );\n  return [ref, value];\n}\n\nconst StudioCard = ({\n  studio: {\n    id,\n    artist,\n    city,\n    styles: artStyles,\n    dates,\n    textMini\n  }\n}) => {\n  const router = useRouter();\n  const articleLink = {\n    pathname: \"/studio/[slug]\",\n    query: {\n      slug: id\n    }\n  };\n\n  const openArticle = id => {\n    router.push(articleLink);\n  };\n\n  const {\n    0: hoverImg,\n    1: setHoverImg\n  } = useState(\"0\");\n  const teaserSrc = `/img/${artist}/${hoverImg}.jpg`;\n\n  const burnsGallery = () => __jsx(ProgressiveImage, {\n    ref: hoverRef,\n    src: teaserSrc,\n    placeholder: `/img/loader.svg`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, (src, loading) => __jsx(\"img\", {\n    className: styles.cardImg,\n    onClick: () => openArticle(id),\n    src: src,\n    alt: artist,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }));\n\n  const [hoverRef, isHovered] = useHover(); // const [burnsGallery, hovered] = useHover(element);\n\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  useEffect(() => {\n    console.log(isHovered);\n\n    if (isHovered) {\n      sleep(2000).then(() => {\n        setHoverImg((hoverImg + 1) % 3);\n        console.log(hoverImg);\n        console.log(teaserSrc);\n      });\n    }\n  }, [isHovered]);\n  return __jsx(\"div\", {\n    className: styles.StudioCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.imgContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, __jsx(Link, {\n    href: articleLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, __jsx(ProgressiveImage, {\n    ref: hoverRef,\n    src: teaserSrc,\n    placeholder: `/img/loader.svg`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, (src, loading) => __jsx(\"img\", {\n    className: styles.cardImg,\n    onClick: () => openArticle(id),\n    src: src,\n    alt: artist,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  })))), __jsx(\"h4\", {\n    className: styles.primary,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, artist), __jsx(\"h4\", {\n    className: styles.secondary,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, __jsx(Disc, {\n    className: styles.Icon,\n    size: 18,\n    strokeWidth: \"2\",\n    color: \"#4b4b4b\",\n    fill: \"#fff\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }), \" \", city), dates && __jsx(\"h4\", {\n    className: styles.secondary,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, \"Next Visit\", \" \", __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, moment(dates[0].toDate(), \"DD/MM/YYYY hh:mm\").format(\"D MMM\"))), __jsx(\"p\", {\n    className: styles.textMini,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }\n  }, textMini), artStyles && __jsx(\"h4\", {\n    className: styles.secondary,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, __jsx(Hash, {\n    className: styles.Icon,\n    size: 18,\n    strokeWidth: \"2\",\n    color: \"#4b4b4b\",\n    fill: \"#fff\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }), \" \", artStyles));\n};\n\nStudioCard.propTypes = {\n  studio: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    artist: PropTypes.string.isRequired,\n    dates: PropTypes.array.isRequired,\n    city: PropTypes.string.isRequired,\n    styles: PropTypes.string.isRequired,\n    textMini: PropTypes.string.isRequired\n  }).isRequired\n};\nexport default StudioCard;","map":{"version":3,"sources":["/home/you/Code/github/kksso/kksso-next/components/StudioCard/index.js"],"names":["useState","useEffect","useRef","PropTypes","useRouter","Link","ProgressiveImage","moment","Disc","Hash","styles","useHover","value","setValue","ref","handleMouseOver","handleMouseOut","node","current","addEventListener","removeEventListener","StudioCard","studio","id","artist","city","artStyles","dates","textMini","router","articleLink","pathname","query","slug","openArticle","push","hoverImg","setHoverImg","teaserSrc","burnsGallery","hoverRef","src","loading","cardImg","isHovered","sleep","ms","Promise","resolve","setTimeout","console","log","then","imgContainer","primary","secondary","Icon","toDate","format","propTypes","shape","string","isRequired","array"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { useRouter } from \"next/router\";\nimport Link from \"next/link\";\n// import { useHover } from \"react-use\";\n\nimport ProgressiveImage from \"react-progressive-image\";\nimport moment from \"moment\";\n\nimport { Disc, Hash } from \"react-feather\";\n\nimport styles from \"./index.module.scss\";\n\nfunction useHover() {\n  const [value, setValue] = useState(false);\n\n  const ref = useRef(null);\n\n  const handleMouseOver = () => setValue(true);\n  const handleMouseOut = () => setValue(false);\n\n  useEffect(\n    () => {\n      const node = ref.current;\n      if (ref && node) {\n        node.addEventListener(\"mouseover\", handleMouseOver);\n        node.addEventListener(\"mouseout\", handleMouseOut);\n\n        return () => {\n          node.removeEventListener(\"mouseover\", handleMouseOver);\n          node.removeEventListener(\"mouseout\", handleMouseOut);\n        };\n      }\n    },\n    [ref.current] // Recall only if ref changes\n  );\n\n  return [ref, value];\n}\n\nconst StudioCard = ({\n  studio: { id, artist, city, styles: artStyles, dates, textMini },\n}) => {\n  const router = useRouter();\n\n  const articleLink = {\n    pathname: \"/studio/[slug]\",\n    query: { slug: id },\n  };\n\n  const openArticle = (id) => {\n    router.push(articleLink);\n  };\n\n  const [hoverImg, setHoverImg] = useState(\"0\");\n\n  const teaserSrc = `/img/${artist}/${hoverImg}.jpg`;\n\n  const burnsGallery = () => (\n    <ProgressiveImage\n      ref={hoverRef}\n      src={teaserSrc}\n      placeholder={`/img/loader.svg`}\n    >\n      {(src, loading) => (\n        <img\n          className={styles.cardImg}\n          onClick={() => openArticle(id)}\n          src={src}\n          alt={artist}\n        />\n      )}\n    </ProgressiveImage>\n  );\n\n  const [hoverRef, isHovered] = useHover();\n\n  // const [burnsGallery, hovered] = useHover(element);\n\n  function sleep(ms) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n\n  useEffect(() => {\n    console.log(isHovered);\n\n    if (isHovered) {\n      sleep(2000).then(() => {\n        setHoverImg((hoverImg + 1) % 3);\n        console.log(hoverImg);\n        console.log(teaserSrc);\n      });\n    }\n  }, [isHovered]);\n\n  return (\n    <div className={styles.StudioCard}>\n      <div className={styles.imgContainer}>\n        <Link href={articleLink}>\n          <ProgressiveImage\n            ref={hoverRef}\n            src={teaserSrc}\n            placeholder={`/img/loader.svg`}\n          >\n            {(src, loading) => (\n              <img\n                className={styles.cardImg}\n                onClick={() => openArticle(id)}\n                src={src}\n                alt={artist}\n              />\n            )}\n          </ProgressiveImage>\n        </Link>\n      </div>\n\n      <h4 className={styles.primary}>{artist}</h4>\n\n      <h4 className={styles.secondary}>\n        <Disc\n          className={styles.Icon}\n          size={18}\n          strokeWidth=\"2\"\n          color=\"#4b4b4b\"\n          fill=\"#fff\"\n        />{\" \"}\n        {city}\n      </h4>\n\n      {dates && (\n        <h4 className={styles.secondary}>\n          Next Visit{\" \"}\n          <strong>\n            {moment(dates[0].toDate(), \"DD/MM/YYYY hh:mm\").format(\"D MMM\")}\n          </strong>\n        </h4>\n      )}\n\n      <p className={styles.textMini}>{textMini}</p>\n\n      {artStyles && (\n        <h4 className={styles.secondary}>\n          <Hash\n            className={styles.Icon}\n            size={18}\n            strokeWidth=\"2\"\n            color=\"#4b4b4b\"\n            fill=\"#fff\"\n          />{\" \"}\n          {artStyles}\n        </h4>\n      )}\n    </div>\n  );\n};\n\nStudioCard.propTypes = {\n  studio: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    artist: PropTypes.string.isRequired,\n    dates: PropTypes.array.isRequired,\n    city: PropTypes.string.isRequired,\n    styles: PropTypes.string.isRequired,\n    textMini: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default StudioCard;\n"]},"metadata":{},"sourceType":"module"}