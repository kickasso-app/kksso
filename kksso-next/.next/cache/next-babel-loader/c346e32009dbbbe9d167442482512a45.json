{"ast":null,"code":"import _slicedToArray from \"/home/you/Code/github/kksso/kksso-next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/you/Code/github/kksso/kksso-next/components/StudioCard/index.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useRouter } from \"next/router\";\nimport Link from \"next/link\";\nimport { useHoverDirty } from \"react-use\";\nimport ProgressiveImage from \"react-progressive-image\";\nimport moment from \"moment\";\nimport { Disc, Hash } from \"react-feather\";\nimport styles from \"./index.module.scss\";\n\nvar StudioCard = function StudioCard(_ref) {\n  _s();\n\n  var _ref$studio = _ref.studio,\n      id = _ref$studio.id,\n      artist = _ref$studio.artist,\n      city = _ref$studio.city,\n      artStyles = _ref$studio.styles,\n      dates = _ref$studio.dates,\n      textMini = _ref$studio.textMini;\n  var router = useRouter();\n  var articleLink = {\n    pathname: \"/studio/[slug]\",\n    query: {\n      slug: id\n    }\n  };\n\n  var openArticle = function openArticle(id) {\n    router.push(articleLink);\n  };\n\n  var _useState = useState(\"0\"),\n      hoverImg = _useState[0],\n      setHoverImg = _useState[1];\n\n  var teaserSrc = \"/img/\".concat(artist, \"/\").concat(hoverImg, \".jpg\");\n\n  var element = function element(hovered) {\n    return __jsx(ProgressiveImage, {\n      src: teaserSrc,\n      placeholder: \"/img/loader.svg\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 5\n      }\n    }, function (src, loading) {\n      return __jsx(\"img\", {\n        className: styles.cardImg,\n        onClick: function onClick() {\n          return openArticle(id);\n        },\n        src: src,\n        alt: artist,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 9\n        }\n      });\n    });\n  };\n\n  var _useHoverDirty = useHoverDirty(element),\n      _useHoverDirty2 = _slicedToArray(_useHoverDirty, 2),\n      burnsGallery = _useHoverDirty2[0],\n      hovered = _useHoverDirty2[1];\n\n  function sleep(ms) {\n    return new Promise(function (resolve) {\n      return setTimeout(resolve, ms);\n    });\n  }\n\n  useEffect(function () {\n    console.log(hovered);\n\n    if (hovered) {\n      sleep(2000).then(function () {\n        setHoverImg((hoverImg + 1) % 3);\n        console.log(hoverImg);\n        console.log(teaserSrc);\n      });\n    }\n  }, [hovered]);\n  return __jsx(\"div\", {\n    className: styles.StudioCard,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.imgContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, __jsx(Link, {\n    href: articleLink,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, burnsGallery)), __jsx(\"h4\", {\n    className: styles.primary,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, artist), __jsx(\"h4\", {\n    className: styles.secondary,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, __jsx(Disc, {\n    className: styles.Icon,\n    size: 18,\n    strokeWidth: \"2\",\n    color: \"#4b4b4b\",\n    fill: \"#fff\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }), \" \", city), dates && __jsx(\"h4\", {\n    className: styles.secondary,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"Next Visit\", \" \", __jsx(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, moment(dates[0].toDate(), \"DD/MM/YYYY hh:mm\").format(\"D MMM\"))), __jsx(\"p\", {\n    className: styles.textMini,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, textMini), artStyles && __jsx(\"h4\", {\n    className: styles.secondary,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, __jsx(Hash, {\n    className: styles.Icon,\n    size: 18,\n    strokeWidth: \"2\",\n    color: \"#4b4b4b\",\n    fill: \"#fff\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }), \" \", artStyles));\n};\n\n_s(StudioCard, \"I8EtgzpJ9Kfw/eE+d0wXgmzyrHg=\", false, function () {\n  return [useRouter, useHoverDirty];\n});\n\n_c = StudioCard;\nStudioCard.propTypes = {\n  studio: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    artist: PropTypes.string.isRequired,\n    dates: PropTypes.array.isRequired,\n    city: PropTypes.string.isRequired,\n    styles: PropTypes.string.isRequired,\n    textMini: PropTypes.string.isRequired\n  }).isRequired\n};\nexport default StudioCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"StudioCard\");","map":{"version":3,"sources":["/home/you/Code/github/kksso/kksso-next/components/StudioCard/index.js"],"names":["useState","useEffect","PropTypes","useRouter","Link","useHoverDirty","ProgressiveImage","moment","Disc","Hash","styles","StudioCard","studio","id","artist","city","artStyles","dates","textMini","router","articleLink","pathname","query","slug","openArticle","push","hoverImg","setHoverImg","teaserSrc","element","hovered","src","loading","cardImg","burnsGallery","sleep","ms","Promise","resolve","setTimeout","console","log","then","imgContainer","primary","secondary","Icon","toDate","format","propTypes","shape","string","isRequired","array"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { useRouter } from \"next/router\";\nimport Link from \"next/link\";\nimport { useHoverDirty } from \"react-use\";\n\nimport ProgressiveImage from \"react-progressive-image\";\nimport moment from \"moment\";\n\nimport { Disc, Hash } from \"react-feather\";\n\nimport styles from \"./index.module.scss\";\n\nconst StudioCard = ({\n  studio: { id, artist, city, styles: artStyles, dates, textMini },\n}) => {\n  const router = useRouter();\n\n  const articleLink = {\n    pathname: \"/studio/[slug]\",\n    query: { slug: id },\n  };\n\n  const openArticle = (id) => {\n    router.push(articleLink);\n  };\n\n  const [hoverImg, setHoverImg] = useState(\"0\");\n  const teaserSrc = `/img/${artist}/${hoverImg}.jpg`;\n\n  const element = (hovered) => (\n    <ProgressiveImage src={teaserSrc} placeholder={`/img/loader.svg`}>\n      {(src, loading) => (\n        <img\n          className={styles.cardImg}\n          onClick={() => openArticle(id)}\n          src={src}\n          alt={artist}\n        />\n      )}\n    </ProgressiveImage>\n  );\n  const [burnsGallery, hovered] = useHoverDirty(element);\n\n  function sleep(ms) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n\n  useEffect(() => {\n    console.log(hovered);\n\n    if (hovered) {\n      sleep(2000).then(() => {\n        setHoverImg((hoverImg + 1) % 3);\n        console.log(hoverImg);\n        console.log(teaserSrc);\n      });\n    }\n  }, [hovered]);\n\n  return (\n    <div className={styles.StudioCard}>\n      <div className={styles.imgContainer}>\n        <Link href={articleLink}>{burnsGallery}</Link>\n      </div>\n\n      <h4 className={styles.primary}>{artist}</h4>\n\n      <h4 className={styles.secondary}>\n        <Disc\n          className={styles.Icon}\n          size={18}\n          strokeWidth=\"2\"\n          color=\"#4b4b4b\"\n          fill=\"#fff\"\n        />{\" \"}\n        {city}\n      </h4>\n\n      {dates && (\n        <h4 className={styles.secondary}>\n          Next Visit{\" \"}\n          <strong>\n            {moment(dates[0].toDate(), \"DD/MM/YYYY hh:mm\").format(\"D MMM\")}\n          </strong>\n        </h4>\n      )}\n\n      <p className={styles.textMini}>{textMini}</p>\n\n      {artStyles && (\n        <h4 className={styles.secondary}>\n          <Hash\n            className={styles.Icon}\n            size={18}\n            strokeWidth=\"2\"\n            color=\"#4b4b4b\"\n            fill=\"#fff\"\n          />{\" \"}\n          {artStyles}\n        </h4>\n      )}\n    </div>\n  );\n};\n\nStudioCard.propTypes = {\n  studio: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    artist: PropTypes.string.isRequired,\n    dates: PropTypes.array.isRequired,\n    city: PropTypes.string.isRequired,\n    styles: PropTypes.string.isRequired,\n    textMini: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default StudioCard;\n"]},"metadata":{},"sourceType":"module"}