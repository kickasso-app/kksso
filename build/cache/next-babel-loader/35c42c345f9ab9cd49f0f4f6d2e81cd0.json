{"ast":null,"code":"var _jsxFileName = \"/home/you/Code/github/kksso/components/StudioCard/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useRef } from \"react\"; // import PropTypes from \"prop-types\";\n\nimport { useRouter } from \"next/router\";\nimport Link from \"next/link\";\nimport ProgressiveImage from \"react-progressive-image\";\nimport moment from \"moment\";\nimport { Disc, Hash } from \"react-feather\";\nimport styles from \"./index.module.scss\";\n\nconst StudioCard = ({\n  studio: {\n    id,\n    artist,\n    city,\n    styles: artStyles,\n    openDates,\n    textMini\n  }\n}) => {\n  const router = useRouter();\n  const articleLink = {\n    pathname: \"/studio/[id]\",\n    query: {\n      id: id\n    }\n  };\n\n  const openArticle = id => {\n    router.push(articleLink);\n  };\n\n  const {\n    0: hoverImg,\n    1: setHoverImg\n  } = useState(\"0\");\n  const {\n    0: hoveredImg,\n    1: setHoveredImg\n  } = useState(false);\n  const teaserSrc = `/img/${artist}/${hoverImg}.jpg`;\n  const nextVisit = openDates ? moment(openDates.split(\",\")[0], \"DD/MM/YYYY hh:mm\").format(\"D MMM\") : false;\n\n  function sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  useEffect(() => {\n    console.log(hoveredImg);\n\n    if (hoveredImg) {\n      sleep(2000).then(() => {\n        setHoverImg((hoverImg + 1) % 3);\n        console.log(hoverImg);\n        console.log(teaserSrc);\n      });\n    }\n  }, [hoveredImg]);\n  return __jsx(\"div\", {\n    className: styles.StudioCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.imgContainer // onMouseEnter={() => {\n    //   setHoveredImg(true);\n    // }}\n    // onMouseLeave={() => {\n    //   setHoveredImg(false);\n    // }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, __jsx(Link, {\n    href: articleLink,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, __jsx(ProgressiveImage, {\n    src: teaserSrc,\n    placeholder: `/img/loader.svg`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, (src, loading) => __jsx(\"img\", {\n    className: styles.cardImg,\n    onClick: () => openArticle(id),\n    src: src,\n    alt: artist,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  })))), __jsx(\"h4\", {\n    className: styles.primary,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, artist), __jsx(\"h4\", {\n    className: styles.secondary,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, __jsx(Disc, {\n    className: styles.Icon,\n    size: 18,\n    strokeWidth: \"2\",\n    color: \"#FFC0CB\",\n    fill: \"#fff\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }), city.split(\",\")[0]), openDates && __jsx(\"h4\", {\n    className: styles.secondary,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"Next Visit \", __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 22\n    }\n  }, nextVisit)), __jsx(\"p\", {\n    className: styles.textMini,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, textMini), artStyles && __jsx(\"h4\", {\n    className: styles.secondary,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, __jsx(Hash, {\n    className: styles.Icon,\n    size: 18,\n    strokeWidth: \"2\",\n    color: \"#4b4b4b\",\n    fill: \"#fff\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }), \" \", artStyles));\n}; // StudioCard.propTypes = {\n//   studio: PropTypes.shape({\n//     id: PropTypes.string.isRequired,\n//     artist: PropTypes.string.isRequired,\n//     openDates: PropTypes.array.isRequired,\n//     city: PropTypes.string.isRequired,\n//     mediums: PropTypes.string.isRequired,\n//     textMini: PropTypes.string.isRequired,\n//   }).isRequired,\n// };\n\n\nexport default StudioCard;","map":{"version":3,"sources":["/home/you/Code/github/kksso/components/StudioCard/index.js"],"names":["useState","useEffect","useRef","useRouter","Link","ProgressiveImage","moment","Disc","Hash","styles","StudioCard","studio","id","artist","city","artStyles","openDates","textMini","router","articleLink","pathname","query","openArticle","push","hoverImg","setHoverImg","hoveredImg","setHoveredImg","teaserSrc","nextVisit","split","format","sleep","ms","Promise","resolve","setTimeout","console","log","then","imgContainer","src","loading","cardImg","primary","secondary","Icon"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef } from \"react\";\n// import PropTypes from \"prop-types\";\n\nimport { useRouter } from \"next/router\";\nimport Link from \"next/link\";\n\nimport ProgressiveImage from \"react-progressive-image\";\nimport moment from \"moment\";\nimport { Disc, Hash } from \"react-feather\";\n\nimport styles from \"./index.module.scss\";\n\nconst StudioCard = ({\n  studio: { id, artist, city, styles: artStyles, openDates, textMini },\n}) => {\n  const router = useRouter();\n\n  const articleLink = {\n    pathname: \"/studio/[id]\",\n    query: { id: id },\n  };\n\n  const openArticle = (id) => {\n    router.push(articleLink);\n  };\n\n  const [hoverImg, setHoverImg] = useState(\"0\");\n  const [hoveredImg, setHoveredImg] = useState(false);\n\n  const teaserSrc = `/img/${artist}/${hoverImg}.jpg`;\n\n  const nextVisit = openDates\n    ? moment(openDates.split(\",\")[0], \"DD/MM/YYYY hh:mm\").format(\"D MMM\")\n    : false;\n\n  function sleep(ms) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n\n  useEffect(() => {\n    console.log(hoveredImg);\n\n    if (hoveredImg) {\n      sleep(2000).then(() => {\n        setHoverImg((hoverImg + 1) % 3);\n        console.log(hoverImg);\n        console.log(teaserSrc);\n      });\n    }\n  }, [hoveredImg]);\n\n  return (\n    <div className={styles.StudioCard}>\n      <div\n        className={styles.imgContainer}\n        // onMouseEnter={() => {\n        //   setHoveredImg(true);\n        // }}\n        // onMouseLeave={() => {\n        //   setHoveredImg(false);\n        // }}\n      >\n        <Link href={articleLink}>\n          <ProgressiveImage src={teaserSrc} placeholder={`/img/loader.svg`}>\n            {(src, loading) => (\n              <img\n                className={styles.cardImg}\n                onClick={() => openArticle(id)}\n                src={src}\n                alt={artist}\n              />\n            )}\n          </ProgressiveImage>\n        </Link>\n      </div>\n\n      <h4 className={styles.primary}>{artist}</h4>\n\n      <h4 className={styles.secondary}>\n        <Disc\n          className={styles.Icon}\n          size={18}\n          strokeWidth=\"2\"\n          color=\"#FFC0CB\"\n          fill=\"#fff\"\n        />\n        {city.split(\",\")[0]}\n      </h4>\n\n      {openDates && (\n        <h4 className={styles.secondary}>\n          Next Visit <strong>{nextVisit}</strong>\n        </h4>\n      )}\n\n      <p className={styles.textMini}>{textMini}</p>\n\n      {artStyles && (\n        <h4 className={styles.secondary}>\n          <Hash\n            className={styles.Icon}\n            size={18}\n            strokeWidth=\"2\"\n            color=\"#4b4b4b\"\n            fill=\"#fff\"\n          />{\" \"}\n          {artStyles}\n        </h4>\n      )}\n    </div>\n  );\n};\n\n// StudioCard.propTypes = {\n//   studio: PropTypes.shape({\n//     id: PropTypes.string.isRequired,\n//     artist: PropTypes.string.isRequired,\n//     openDates: PropTypes.array.isRequired,\n//     city: PropTypes.string.isRequired,\n//     mediums: PropTypes.string.isRequired,\n//     textMini: PropTypes.string.isRequired,\n//   }).isRequired,\n// };\n\nexport default StudioCard;\n"]},"metadata":{},"sourceType":"module"}