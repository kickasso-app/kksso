{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/you/Code/github/kksso/kksso-next/components/StudiosRouter/index.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport moment from \"moment\";\nimport { X } from \"react-feather\";\nimport StudioCard from \"../StudioCard\"; // import StudioOpen from \"../StudioOpen\";\n\nimport Masonry from \"react-masonry-css\";\nimport styles from \"./index.module.scss\";\nvar dayButtons = [\"All\", \"In A Week\", \"In A Month\", \"Later\"];\nvar dayValues = [\"All\", \"week\", \"month\", \"later\"];\nvar cityValues = [\"Berlin\", \"Paris\", \"Brussels\"];\nvar categoryButtons = [\"Painting\", \"Sculpture\", \"Prints\", \"Mixed Media\", \"Photography\", \"Installation\", \"Video\", \"Sound\"];\n\nvar StudiosRouter = function StudiosRouter(_ref) {\n  _s();\n\n  var articles = _ref.articles;\n\n  var _useState = useState(false),\n      visibleArticles = _useState[0],\n      setVisibleArticles = _useState[1];\n\n  var _useState2 = useState(\"All\"),\n      theDay = _useState2[0],\n      setTheDay = _useState2[1];\n\n  var _useState3 = useState(\"All\"),\n      theCity = _useState3[0],\n      setTheCity = _useState3[1];\n\n  var _useState4 = useState(\"All\"),\n      theCat = _useState4[0],\n      setTheCat = _useState4[1];\n\n  var filterArticles = function filterArticles(filter) {\n    var filtered = articles;\n    var today = moment();\n    var nextWeek = moment().add(7, \"days\");\n    var nextMonth = moment().add(1, \"months\");\n    var nextYear = moment().add(1, \"years\");\n\n    if (filter.day !== false && filter.day !== \"All\") {\n      filtered = filtered.filter(function (article) {\n        var datesArray = article.dates.map(function (d) {\n          return d.toDate();\n        });\n        var dates = datesArray.map(function (d) {\n          return moment(d, \"DD/MM/YYYY hh:mm\");\n        });\n        var isNextWeek = dates.some(function (d) {\n          return d.isBetween(today, nextWeek);\n        });\n        var isNextMonth = dates.some(function (d) {\n          return d.isBetween(today, nextMonth);\n        });\n        var isLater = dates.some(function (d) {\n          return d.isBetween(nextMonth, nextYear);\n        });\n        var result = isNextWeek ? \"week \" : \"\";\n        result += isNextMonth ? \"month \" : \"\";\n        result += isLater ? \"later\" : \"\";\n        return result.includes(filter.day);\n      });\n    }\n\n    if (filter.cat !== false && filter.cat !== \"All\") {\n      filtered = filtered.filter(function (article) {\n        var style = filter.cat.toLowerCase();\n        return article.styles.includes(style);\n      });\n    }\n\n    if (filter.city !== false && filter.city !== \"All\") {\n      filtered = filtered.filter(function (article) {\n        return article.city.includes(filter.city);\n      });\n    }\n\n    setVisibleArticles(filtered.map(function (article) {\n      return __jsx(StudioCard, {\n        studio: article,\n        key: article.id,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 16\n        }\n      });\n    }));\n    setTheDay(filter.day);\n    setTheCat(filter.cat);\n    setTheCity(filter.city); // sessionStorage.setItem(\"filters\", JSON.stringify(filter));\n  };\n\n  useEffect(function () {\n    // if (articleIDRoute > 0 && articleIDRoute <= articles.length) {\n    //   openArticle(articleIDRoute);\n    // }\n    // let savedfilters = sessionStorage.getItem(\"filters\");\n    // if (savedfilters) {\n    //   savedfilters = JSON.parse(savedfilters);\n    //   setTheDay(savedfilters.day);\n    //   setTheCat(savedfilters.cat);\n    //   setTheCity(savedfilters.city);\n    //   filterArticles(savedfilters);\n    // } else {\n    //   filterArticles({ day: theDay, cat: theCat, city: theCity });\n    // }\n    filterArticles({\n      day: theDay,\n      cat: theCat,\n      city: theCity\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [articles]);\n  return __jsx(\"div\", {\n    className: styles.program,\n    id: \"the-program\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: styles.filters,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: styles.buttons,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, dayButtons.map(function (btn, key) {\n    return __jsx(\"button\", {\n      key: key,\n      className: [\"button\", theDay === dayValues[key] ? \" is-checked\" : \"\"].join(),\n      onClick: function onClick() {\n        filterArticles({\n          day: dayValues[key],\n          cat: theCat,\n          city: theCity\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, btn);\n  }), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }), cityValues.map(function (btn, key) {\n    return __jsx(\"button\", {\n      key: key,\n      className: [\"buttonSecond\", theCity === btn ? \" is-checked\" : \"\"].join(),\n      onClick: function onClick() {\n        filterArticles({\n          day: theDay,\n          cat: theCat,\n          city: btn\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }, btn);\n  }), __jsx(\"button\", {\n    className: \"buttonSecond\",\n    onClick: function onClick() {\n      filterArticles({\n        day: theDay,\n        cat: theCat,\n        city: \"All\"\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, __jsx(X, {\n    size: 16,\n    strokeWidth: \"3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  })), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }), categoryButtons.map(function (btn, key) {\n    return __jsx(\"button\", {\n      key: key,\n      className: [\"buttonSecond\", theCat === btn ? \" is-checked\" : \"\"].join(),\n      onClick: function onClick() {\n        filterArticles({\n          day: theDay,\n          cat: btn,\n          city: theCity\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }\n    }, btn);\n  }), __jsx(\"button\", {\n    className: \"buttonSecond\",\n    onClick: function onClick() {\n      filterArticles({\n        day: theDay,\n        cat: \"All\",\n        city: theCity\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }\n  }, __jsx(X, {\n    size: 16,\n    strokeWidth: \"3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }\n  })))), __jsx(\"div\", {\n    className: \"all-articles\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }\n  }, __jsx(Masonry, {\n    breakpointCols: {\n      default: 3,\n      960: 3,\n      768: 2,\n      600: 1\n    },\n    className: styles.masonryGrid,\n    columnClassName: styles.masonryGridColumn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }\n  }, visibleArticles))));\n};\n\n_s(StudiosRouter, \"Dgvu/iIa7wi8O1JXdRmX/ZKiix4=\");\n\n_c = StudiosRouter;\nStudiosRouter.propTypes = {\n  articles: PropTypes.array.isRequired // articleIDRoute: PropTypes.string,\n\n};\nexport default StudiosRouter;\n\nvar _c;\n\n$RefreshReg$(_c, \"StudiosRouter\");","map":{"version":3,"sources":["/home/you/Code/github/kksso/kksso-next/components/StudiosRouter/index.js"],"names":["useState","useEffect","PropTypes","moment","X","StudioCard","Masonry","styles","dayButtons","dayValues","cityValues","categoryButtons","StudiosRouter","articles","visibleArticles","setVisibleArticles","theDay","setTheDay","theCity","setTheCity","theCat","setTheCat","filterArticles","filter","filtered","today","nextWeek","add","nextMonth","nextYear","day","article","datesArray","dates","map","d","toDate","isNextWeek","some","isBetween","isNextMonth","isLater","result","includes","cat","style","toLowerCase","city","id","program","filters","buttons","btn","key","join","default","masonryGrid","masonryGridColumn","propTypes","array","isRequired"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport moment from \"moment\";\nimport { X } from \"react-feather\";\n\nimport StudioCard from \"../StudioCard\";\n// import StudioOpen from \"../StudioOpen\";\n\nimport Masonry from \"react-masonry-css\";\nimport styles from \"./index.module.scss\";\n\nconst dayButtons = [\"All\", \"In A Week\", \"In A Month\", \"Later\"];\nconst dayValues = [\"All\", \"week\", \"month\", \"later\"];\nconst cityValues = [\"Berlin\", \"Paris\", \"Brussels\"];\nconst categoryButtons = [\n  \"Painting\",\n  \"Sculpture\",\n  \"Prints\",\n  \"Mixed Media\",\n  \"Photography\",\n  \"Installation\",\n  \"Video\",\n  \"Sound\",\n];\n\nconst StudiosRouter = ({ articles }) => {\n  const [visibleArticles, setVisibleArticles] = useState(false);\n  const [theDay, setTheDay] = useState(\"All\");\n  const [theCity, setTheCity] = useState(\"All\");\n  const [theCat, setTheCat] = useState(\"All\");\n\n  const filterArticles = (filter) => {\n    let filtered = articles;\n    const today = moment();\n    const nextWeek = moment().add(7, \"days\");\n    const nextMonth = moment().add(1, \"months\");\n    const nextYear = moment().add(1, \"years\");\n\n    if (filter.day !== false && filter.day !== \"All\") {\n      filtered = filtered.filter((article) => {\n        const datesArray = article.dates.map((d) => d.toDate());\n        const dates = datesArray.map((d) => moment(d, \"DD/MM/YYYY hh:mm\"));\n\n        const isNextWeek = dates.some((d) => d.isBetween(today, nextWeek));\n        const isNextMonth = dates.some((d) => d.isBetween(today, nextMonth));\n        const isLater = dates.some((d) => d.isBetween(nextMonth, nextYear));\n\n        let result = isNextWeek ? \"week \" : \"\";\n        result += isNextMonth ? \"month \" : \"\";\n        result += isLater ? \"later\" : \"\";\n\n        return result.includes(filter.day);\n      });\n    }\n    if (filter.cat !== false && filter.cat !== \"All\") {\n      filtered = filtered.filter((article) => {\n        const style = filter.cat.toLowerCase();\n        return article.styles.includes(style);\n      });\n    }\n    if (filter.city !== false && filter.city !== \"All\") {\n      filtered = filtered.filter((article) => {\n        return article.city.includes(filter.city);\n      });\n    }\n\n    setVisibleArticles(\n      filtered.map((article) => {\n        return <StudioCard studio={article} key={article.id} />;\n      })\n    );\n    setTheDay(filter.day);\n    setTheCat(filter.cat);\n    setTheCity(filter.city);\n    // sessionStorage.setItem(\"filters\", JSON.stringify(filter));\n  };\n\n  useEffect(() => {\n    // if (articleIDRoute > 0 && articleIDRoute <= articles.length) {\n    //   openArticle(articleIDRoute);\n    // }\n\n    // let savedfilters = sessionStorage.getItem(\"filters\");\n    // if (savedfilters) {\n    //   savedfilters = JSON.parse(savedfilters);\n    //   setTheDay(savedfilters.day);\n    //   setTheCat(savedfilters.cat);\n    //   setTheCity(savedfilters.city);\n    //   filterArticles(savedfilters);\n    // } else {\n    //   filterArticles({ day: theDay, cat: theCat, city: theCity });\n    // }\n\n    filterArticles({ day: theDay, cat: theCat, city: theCity });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [articles]);\n\n  return (\n    <div className={styles.program} id=\"the-program\">\n      <div>\n        <div className={styles.filters}>\n          <div className={styles.buttons}>\n            {dayButtons.map((btn, key) => {\n              return (\n                <button\n                  key={key}\n                  className={[\n                    \"button\",\n                    theDay === dayValues[key] ? \" is-checked\" : \"\",\n                  ].join()}\n                  onClick={() => {\n                    filterArticles({\n                      day: dayValues[key],\n                      cat: theCat,\n                      city: theCity,\n                    });\n                  }}\n                >\n                  {btn}\n                </button>\n              );\n            })}\n            <br />\n            {cityValues.map((btn, key) => {\n              return (\n                <button\n                  key={key}\n                  className={[\n                    \"buttonSecond\",\n                    theCity === btn ? \" is-checked\" : \"\",\n                  ].join()}\n                  onClick={() => {\n                    filterArticles({ day: theDay, cat: theCat, city: btn });\n                  }}\n                >\n                  {btn}\n                </button>\n              );\n            })}\n            <button\n              className=\"buttonSecond\"\n              onClick={() => {\n                filterArticles({ day: theDay, cat: theCat, city: \"All\" });\n              }}\n            >\n              <X size={16} strokeWidth=\"3\" />\n            </button>\n            <br />\n            {categoryButtons.map((btn, key) => {\n              return (\n                <button\n                  key={key}\n                  className={[\n                    \"buttonSecond\",\n                    theCat === btn ? \" is-checked\" : \"\",\n                  ].join()}\n                  onClick={() => {\n                    filterArticles({ day: theDay, cat: btn, city: theCity });\n                  }}\n                >\n                  {btn}\n                </button>\n              );\n            })}\n            <button\n              className=\"buttonSecond\"\n              onClick={() => {\n                filterArticles({ day: theDay, cat: \"All\", city: theCity });\n              }}\n            >\n              <X size={16} strokeWidth=\"3\" />\n            </button>\n          </div>\n        </div>\n        <div className=\"all-articles\">\n          <Masonry\n            breakpointCols={{\n              default: 3,\n              960: 3,\n              768: 2,\n              600: 1,\n            }}\n            className={styles.masonryGrid}\n            columnClassName={styles.masonryGridColumn}\n          >\n            {visibleArticles}\n          </Masonry>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nStudiosRouter.propTypes = {\n  articles: PropTypes.array.isRequired,\n  // articleIDRoute: PropTypes.string,\n};\n\nexport default StudiosRouter;\n"]},"metadata":{},"sourceType":"module"}